# 自动连接功能使用指南

## 功能概述

应用现在支持自动连接功能，无需手动点击连接按钮。应用启动后会自动连接到服务器并尝试建立WebRTC连接。

## 主要修改

### 1. 自动连接服务器
- 应用启动时自动连接到默认服务器 `192.168.1.3:6060`
- 无需手动点击连接按钮

### 2. 默认接收端模式
- 应用默认以接收端模式启动
- 自动等待发送端连接

### 3. 自动选择发送端
- 当收到客户端列表时，自动选择第一个可用的发送端
- 自动发送连接请求

### 4. 自动启动显示页面
- WebRTC连接建立成功后，自动启动显示页面
- 无需手动操作

## 使用步骤

### 发送端设置
1. 启动应用
2. 点击"切换到发送端模式"按钮
3. 授予屏幕录制权限
4. 应用会自动注册到服务器

### 接收端设置
1. 启动应用（默认接收端模式）
2. 应用会自动连接到服务器
3. 等待发送端连接
4. 连接成功后自动显示发送端屏幕

## 工作流程

```
应用启动
    ↓
自动连接服务器 (192.168.1.3:6060)
    ↓
接收端模式：等待发送端列表
发送端模式：自动注册到服务器
    ↓
接收端：自动选择第一个发送端并连接
    ↓
WebRTC连接建立
    ↓
自动启动显示页面
```

## 状态显示

- **"接收端模式 - 正在连接服务器..."** - 应用启动中
- **"已连接到服务器，等待发送端..."** - 连接成功，等待发送端
- **"自动选择客户端: [设备名]"** - 发现发送端并自动选择
- **"正在连接到: [设备名]"** - 正在建立WebRTC连接
- **"WebRTC连接建立成功，自动启动显示页面"** - 连接完成

## 注意事项

1. 确保服务器地址正确（当前设置为 `192.168.1.3:6060`）
2. 发送端需要授予屏幕录制权限
3. 网络连接稳定，确保WebRTC连接能够建立
4. 如果连接失败，可以尝试重启应用

## 故障排除

### 连接失败
- 检查服务器是否运行
- 检查网络连接
- 查看应用日志获取详细错误信息

### 权限问题
- 确保发送端已授予屏幕录制权限
- 如果权限被拒绝，应用会自动切换回接收端模式

### 显示问题
- 确保WebRTC连接建立成功
- 检查显示页面是否正确启动 