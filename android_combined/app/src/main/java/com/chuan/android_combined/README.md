# ScreenLink 应用

ScreenLink 是一个基于 WebRTC 的 Android 屏幕共享应用，支持将一台 Android 设备的屏幕实时投射到另一台 Android 设备上。

## 主要功能

- **发送端**：捕获设备屏幕并通过 WebRTC 发送视频流
- **接收端**：接收并显示来自发送端的视频流
- **高清画质**：支持高比特率视频传输，确保清晰的屏幕共享体验
- **隐藏模式**：接收端支持隐藏应用图标，可通过特殊拨号码重新显示
- **自动启动**：支持记住上次选择的模式并自动启动

## 应用架构

应用由以下主要组件构成：

### 1. MainDispatcherActivity

主入口界面，负责：
- 提供发送端和接收端模式选择
- 记录用户上次选择，支持自动启动
- 管理应用的全局配置

### 2. SenderMainActivity

发送端界面，负责：
- 捕获设备屏幕
- 建立 WebRTC 连接
- 发送高质量视频流到接收端

### 3. ReceiverMainActivity

接收端界面，负责：
- 接收并显示来自发送端的视频流
- 提供隐藏应用图标功能
- 支持通过特殊拨号码显示应用图标

### 4. 辅助服务

- **ScreenCaptureService**：处理屏幕捕获的前台服务
- **BackgroundService**：保持接收端在后台运行的服务
- **BootReceiver**：开机自启动接收器
- **PhoneCallReceiver**：处理特殊拨号码的接收器

## 技术实现

- 使用 WebRTC 进行点对点视频传输
- 使用 WebSocket 作为信令服务器通信
- 使用 MediaProjection API 进行屏幕捕获
- 使用前台服务确保应用在后台稳定运行

## 使用方式

1. 在两台设备上安装 ScreenLink 应用
2. 启动一个共享的 WebSocket 信令服务器（默认地址为 192.168.1.3:6060）
3. 在一台设备上选择"发送端"模式，输入信令服务器地址并点击"开始投屏"
4. 在另一台设备上选择"接收端"模式，输入相同的信令服务器地址并点击"开始接收"
5. 授予必要的权限后，屏幕共享将自动开始

## 特殊功能

- 接收端可以隐藏应用图标，使应用在后台运行时不被轻易发现
- 当应用图标被隐藏后，可以通过拨打特殊码 `*#*#1234#*#*` 重新显示应用图标 